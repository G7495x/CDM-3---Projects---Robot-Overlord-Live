(this["webpackJsonprobot-overlord-react"]=this["webpackJsonprobot-overlord-react"]||[]).push([[0],[,,,,,,function(e,t){e.exports={x:{position:[0,11.32,0],axis:[0,-1,0],angles:{home:0,min:-120,max:120},objs:["2_Shoulder.obj"]},y:{position:[0,7.524,0],axis:[0,0,1],angles:{home:-90,min:-170,max:0},objs:["3_Bicep.obj"],parent:"x"},z:{position:[0,35.796,0],axis:[0,0,1],angles:{home:0,min:-83.369,max:86},objs:["4_Forearm.obj"],parent:"y"},u:{position:[29.207,6.406,0],axis:[-1,0,0],angles:{home:0,min:-175,max:175},objs:["5_TuningFork.obj"],parent:"z"},v:{position:[9.513,0,0],axis:[0,0,1],angles:{home:0,min:-120,max:120},objs:["6_PicassoBox.obj"],parent:"u"},w:{position:[5.423,0,0],axis:[-1,0,0],angles:{home:0,min:-170,max:170},objs:["7_Hand.obj"],parent:"v"},t:{position:[0,0,0],axis:[0,0,0],angles:{home:180,min:10,max:180},objs:["8_ClampBase.obj"],parent:"w"},t_l:{position:[10.634,0,-4.05],axis:[0,0,0],angles:{home:0,min:0,max:0},objs:["9_Clamp_Left_Fixed.obj"],parent:"t"},t_r:{position:[10.634,0,4.05],axis:[0,0,0],angles:{home:0,min:0,max:0},objs:["9_Clamp_Right_Fixed.obj"],parent:"t"}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(100)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/d2drhlh-0c1dc8e8-310b-4f13-b1ed-596c78153401-gray.dc7a7340.jpg"},function(e,t,a){var n={"./1_Anchor.obj":78,"./2_Shoulder.obj":79,"./3_Bicep.obj":80,"./4_Forearm.obj":81,"./5_TuningFork.obj":82,"./6_PicassoBox.obj":83,"./7_Hand.obj":84,"./8_ClampBase.obj":85,"./9_Clamp_Left_Fixed.obj":86,"./9_Clamp_Right_Fixed.obj":87};function o(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id=77},function(e,t,a){e.exports=a.p+"static/media/1_Anchor.05a3563c.obj"},function(e,t,a){e.exports=a.p+"static/media/2_Shoulder.67fa005d.obj"},function(e,t,a){e.exports=a.p+"static/media/3_Bicep.6eb28d2f.obj"},function(e,t,a){e.exports=a.p+"static/media/4_Forearm.bab2fed0.obj"},function(e,t,a){e.exports=a.p+"static/media/5_TuningFork.69d3d423.obj"},function(e,t,a){e.exports=a.p+"static/media/6_PicassoBox.78e539c9.obj"},function(e,t,a){e.exports=a.p+"static/media/7_Hand.bfb064cf.obj"},function(e,t,a){e.exports=a.p+"static/media/8_ClampBase.659054d7.obj"},function(e,t,a){e.exports=a.p+"static/media/9_Clamp_Left_Fixed.45fe70fc.obj"},function(e,t,a){e.exports=a.p+"static/media/9_Clamp_Right_Fixed.1e1f6339.obj"},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/icon_logo.e152c216.svg"},function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(38),c=a.n(r),i=a(14),s=(a(51),a(4)),l=(a(52),a(10)),m=(a(53),a(3)),u=a(13),d=a(12),p=a.n(d),h=a(15),f=a.n(h),E=a(0),b=a(39),v=a(24),g=a.n(v),x=a(40),N=a(41),S=a(42),j=a(45),_=(a(73),a(6)),w=a.n(_),y=a(22),O=(a(74),new(a(43).a));function k(e,t,a,n){var o=e/t;a.setSize(e,t),a.setPixelRatio(window.devicePixelRatio),n.fov=45*(o>1?1:Math.atan(1/o)/E.x.DEG2RAD/45),n.aspect=o,n.updateProjectionMatrix()}var T,C=new E.ab({antialias:!0,alpha:!0,preserveDrawingBuffer:!0}),P=C.domElement;P.id="PoseToImgCanvas",document.body.appendChild(P);var A={},F=new E.H;F.position.set(100,100,100),F.lookAt(0,30,0),k(320,240,C,F);var H={};function R(e){var t=e.pose,a=e.cache,r=Object(y.a)(e,["pose","cache"]),c=Object(n.useContext)(_e).state,i=H[t];if(c.isPoseToImgReady&&!i){var s=JSON.parse(t);p.a.forIn(A,(function(e,t){return e.rotateSection(s[t])})),C.render(T,F),i=P.toDataURL(),!1!==a&&(H[t]=i)}return o.a.createElement("img",Object.assign({src:i},r,{"data-pose":t,alt:""}))}var I,M,L,D,B;a(75);function q(e){var t=e.onChange,a=Object(y.a)(e,["onChange"]),n=Number.isInteger(a.value)?a.value:-1;return o.a.createElement("div",Object.assign({},a,{className:"segment-controls row "+a.className}),o.a.createElement("div",{className:"highlight",style:{transform:"translateX(".concat(100*n,"%)"),width:100/a.children.length+"%"}}),a.children.map((function(e,r){return o.a.createElement("div",Object.assign({key:r},a.childProps,{onClick:function(){return function(e){try{t(e,n)}catch(a){}}(r)}}),e)})))}var z,G,J,W,Y,K,U,V,Z={},Q={},X=new E.u,$=(new j.a(X),new E.V(X).load(a(76))),ee=new E.C({color:new E.d("hsl(0,0%,100%)"),matcap:$}),te=new E.C({color:new E.d("hsl(0,0%,10%)"),matcap:$}),ae=new E.C({color:new E.d("hsl(0,0%,2%)"),matcap:$}),ne=["1_Anchor.obj"].concat(Object(u.a)(Object.values(w.a).flatMap((function(e){return e.objs})))).filter((function(e){return e})),oe=Promise.all(ne.map((function(e){return t=a(77)("./"+e),new Promise((function(e,a){try{O.load(t,(function(t){return e(t)}),null,null,null)}catch(n){a(n)}}));var t}))).then((function(e){e.forEach((function(e,t){return Z[ne[t]]=e}))}));function re(){I=Object(n.useRef)(),Object(n.useEffect)((function(){Object(x.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M=new E.ab({antialias:!0,canvas:I.current,alpha:!0,preserveDrawingBuffer:!0}),L=new E.R,(D=new E.H).position.set(100,100,100),D.lookAt(0,30,0),(B=new N.a(D,M.domElement)).enableDamping=!0,B.enablePan=!1,B.dampingFactor=.1,B.rotateSpeed=.5,B.maxPolarAngle=Math.PI/2,B.target.set(0,30,0),ce(),window.addEventListener("resize",ce,!0),e.next=16,oe;case 16:n=L.clone(),o=p.a.mapValues(Z,(function(e){return e.clone()})),ie(T=n,o,A,C),console.log("PoseToImgReady"),fe(["SET_STATE",{isPoseToImgReady:!0}]),ie(L,Z,Q,M),U=new E.z(new E.S(1,32,32),new E.B),L.add(U),(V=new S.a(D,M.domElement)).addEventListener("dragging-changed",(function(e){var t=e.value;return B.enabled=!t})),V.setSpace("local"),V.attach(U),L.add(V),L.updateMatrixWorld(),a=new E.Z,Q.v.getWorldPosition(a),(t=U.position).set.apply(t,Object(u.a)(a.toArray())),z=new E.Z,Q.y.getWorldPosition(z),G=Q.z.position.length(),J=(new E.Z).addVectors(Q.u.position,Q.v.position).length(),(W=new E.Z).subVectors(U.position,z),Y=W.length(),K=le(Y,J,G)*E.x.RAD2DEG,V.addEventListener("change",(function(){var e=new E.Z;e.subVectors(U.position,z),me(e)})),se();case 39:case"end":return e.stop()}var n,o}),e)})))()}),[]);var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],r=t[1];return o.a.createElement(n.Fragment,null,o.a.createElement("canvas",{id:"SimRobot",ref:I}),o.a.createElement("div",{id:"IKControls",className:"row spc-12"},o.a.createElement("div",{className:"my-0 ml-0 button-icon",onClick:function(){return B.object.position.set(100,100,100)}},o.a.createElement("div",{className:"fa fa-repeat text-muted",style:{transform:"rotateY(180deg)"}}),o.a.createElement("div",null,"Reset View")),o.a.createElement("div",{className:"col"}),o.a.createElement("div",{className:"h7"},"End Affector Control Mode"),o.a.createElement(q,{className:"m-2",style:{width:"100px"},value:a,onChange:function(e){switch(e){case 0:V.setMode("translate");break;case 1:V.setMode("rotate")}r(e)}},o.a.createElement(n.Fragment,null,"Move"),o.a.createElement(n.Fragment,null,"Rotate"))))}function ce(){k(I.current.offsetWidth,I.current.offsetHeight,M,D)}function ie(e,t,a,n){p.a.forIn(w.a,(function(e,n){return a[n]=function(e,t,a,n){var o,r=Object(b.a)(E.Z,Object(u.a)(e.axis)),c=new E.F;c.name="section-"+t,(o=c.position).set.apply(o,Object(u.a)(e.position)),c.setRotationFromAxisAngle(r,e.angles.home*E.x.DEG2RAD);var i=new E.F;c.add(i),i.name="section-"+t+"-inner",e.objs.map((function(e){return i.add(a[e])})),c.sectionName=t,c.inner=i,c.axis=r,c.rotateSection=function(t){t=E.x.clamp(t,e.angles.min,e.angles.max),c.sectionAngle!==t&&(c.sectionAngle=t,i.setRotationFromAxisAngle(r,-t*E.x.DEG2RAD))},c.rotateSection(e.angles.home),e.parent&&n[e.parent].inner.add(c);return c}(e,n,t,a)}));var o=a.t.inner,r=o.children[1].inner,c=o.children[2].inner;a.t.rotateSection=function(e){var t=(e-w.a.t.angles.max)/w.a.t.angles.max*.7;r.position.z=t*w.a.t_l.position[2],c.position.z=t*w.a.t_r.position[2]},e.add(t["1_Anchor.obj"]),e.add(a.x),t["1_Anchor.obj"].children[0].material=ee,t["1_Anchor.obj"].children[1].material=ae,t["2_Shoulder.obj"].children[0].material=ae,t["2_Shoulder.obj"].children[1].material=te,t["2_Shoulder.obj"].children[2].material=ae,t["2_Shoulder.obj"].children[3].material=ee,t["3_Bicep.obj"].children[0].material=ee,t["3_Bicep.obj"].children[1].material=te,t["3_Bicep.obj"].children[2].material=ae,t["3_Bicep.obj"].children[3].material=ee,t["3_Bicep.obj"].children[4].material=ee,t["3_Bicep.obj"].children[5].material=ee,t["3_Bicep.obj"].children[6].material=ee,t["4_Forearm.obj"].children[0].material=ee,t["4_Forearm.obj"].children[1].material=ee,t["4_Forearm.obj"].children[2].material=te,t["4_Forearm.obj"].children[3].material=ae,t["4_Forearm.obj"].children[4].material=ee,t["4_Forearm.obj"].children[5].material=ee,t["4_Forearm.obj"].children[6].material=ee,t["4_Forearm.obj"].children[7].material=ae,t["4_Forearm.obj"].children[8].material=ae,t["4_Forearm.obj"].children[9].material=ae,t["4_Forearm.obj"].children[10].material=te,t["4_Forearm.obj"].children[11].material=te,t["4_Forearm.obj"].children[12].material=te,t["4_Forearm.obj"].children[13].material=ae,t["4_Forearm.obj"].children[14].material=ae,t["4_Forearm.obj"].children[15].material=ae,t["4_Forearm.obj"].children[16].material=ee,t["4_Forearm.obj"].children[17].material=te,t["4_Forearm.obj"].children[18].material=ae,t["4_Forearm.obj"].children[19].material=ae,t["4_Forearm.obj"].children[20].material=ae,t["4_Forearm.obj"].children[21].material=ee,t["5_TuningFork.obj"].children[0].material=ee,t["6_PicassoBox.obj"].children[0].material=ee,t["7_Hand.obj"].children[0].material=ee,t["8_ClampBase.obj"].children[0].material=ae,t["8_ClampBase.obj"].children[1].material=ae,t["8_ClampBase.obj"].children[2].material=ee,t["8_ClampBase.obj"].children[3].material=ee,t["8_ClampBase.obj"].children[4].material=ae,t["8_ClampBase.obj"].children[5].material=ae,t["8_ClampBase.obj"].children[6].material=ae,t["8_ClampBase.obj"].children[7].material=ee,t["9_Clamp_Left_Fixed.obj"].children[0].material=ee,t["9_Clamp_Right_Fixed.obj"].children[0].material=ee,n.toneMapping=E.a,n.toneMappingExposure=4,n.outputEncoding=E.bb}function se(){requestAnimationFrame(se),B.update(),B.object.position,M.render(L,D)}function le(e,t,a){return Math.acos((Math.pow(t,2)+Math.pow(a,2)-Math.pow(e,2))/(2*t*a))}function me(e){var t=e.length(),a=-Math.atan(e.z/e.x)*E.x.RAD2DEG;e.x<0&&(e.z>0?a-=180:a=180+a);var n=e.clone().setY(0).length(),o=Math.atan(e.y/n)*E.x.RAD2DEG,r=le(J,G,t)*E.x.RAD2DEG||0,c=le(t,J,G)*E.x.RAD2DEG||180;fe(["SET_SIM_ANGLES",Object(m.a)(Object(m.a)({},Ee.simPose),{},{x:a,y:-o-r,z:K-c})])}var ue;a(88);function de(){var e=Object(n.useContext)(_e),t=e.state,a=e.dispatch,r=t.historySeekPos,c=t.poseHistory,i=t.simPose,s=t.historyLockHand,l=t.historySeekbarPrecision;return r===c.length&&(ue=JSON.stringify(i)),o.a.createElement("div",{id:"HistoryTimeline"},o.a.createElement("div",{className:"row top-row"},o.a.createElement("div",{className:"f-center px-8 py-4 spb-x-8"},o.a.createElement("div",{className:"fa fa-history"}),o.a.createElement("div",{className:"b-700"},"History Timeline")),o.a.createElement("div",{className:"f-center px-8 py-4 pr-0"},o.a.createElement("span",{className:"h7"},"Don't affect Hand State"),o.a.createElement("input",{className:"ml-8",type:"checkbox",checked:s,onChange:function(e){var t=e.target;a(["SET_HISTORY_LOCK_HAND",t.checked])}})),o.a.createElement("div",{className:"row f-center spc-x-8 spc-4",style:{visibility:c.length?"visible":"hidden"}},o.a.createElement("button",{className:"outline super-center h7 icon icon-fast_backward",onClick:function(){return a(["HISTORY_SEEK",c.length])}}),o.a.createElement("button",{className:"outline super-center h7 icon icon-step_backward",onClick:function(){return a(["HISTORY_SEEK",Math.round(r)+1])}}),o.a.createElement("span",{className:"h7"},"Slider position"),o.a.createElement("input",{className:"text-center h7 b-500",type:"number",value:r,onChange:function(e){var t=e.target.valueAsNumber;return a(["HISTORY_SEEK",t])}}),o.a.createElement("button",{className:"outline super-center h7 icon icon-step_forward",onClick:function(){return a(["HISTORY_SEEK",Math.round(r)-1])}}),o.a.createElement("button",{className:"outline super-center h7 icon icon-fast_forward",onClick:function(){return a(["HISTORY_SEEK",0])}})),o.a.createElement("div",{className:"col"}),o.a.createElement("div",{className:"fa fa-minus f-center px-16",onClick:function(){return a(["SET_STATE",{showHistoryTimeline:!1}])}})),o.a.createElement("div",{className:"scroll-x"},o.a.createElement("div",{className:"seekbar f-center",style:{height:"30px"}},o.a.createElement("div",{className:"super-center h7 pr-8",style:{fontSize:"13px"}},o.a.createElement("i",{className:"fa fa-chevron-down mr-4 h8"}),"Current"),c.length>=1?o.a.createElement("input",{type:"range",min:"0",max:c.length,step:1/Math.pow(10,l),value:r,onChange:function(e){var t=e.target.valueAsNumber;return a(["HISTORY_SEEK",t])},style:{"--width":144*c.length+"px"}}):void 0),o.a.createElement("div",{className:"d-flex"},o.a.createElement("div",{className:"p-8 current d-flex"},o.a.createElement(R,{cache:!1,pose:ue,onClick:function(){return a(["HISTORY_SEEK",c.length])}})),o.a.createElement("div",{className:"needle button",style:{opacity:c.length,transform:"translateX(".concat(144*(c.length-r)-72,"px)")}}),o.a.createElement("div",{className:"f-grow-1 row spc-8 spc-x-16 px-0 f-nowrap f-horz-rev f-justify-end"},c.map((function(e,t){return o.a.createElement(R,{key:t,pose:e,onClick:function(){return a(["HISTORY_SEEK",t])}})}))))))}var pe,he,fe,Ee={},be=function(e,t){var a=Object(l.a)(t,2),n=a[0],o=a[1];return"false"===(Ee=function e(t,a,n){var o,r;switch(a){case"SET_STATE":return Object(m.a)(Object(m.a)({},t),n);case"SET_SIM_ANGLES":for(var c in n)n[c]=E.x.clamp(+n[c].toFixed(3),w.a[c].angles.min,w.a[c].angles.max),Q[c].rotateSection(n[c]);L.updateMatrixWorld();var i=new E.Z;return Q.v.getWorldPosition(i),(o=U.position).set.apply(o,Object(u.a)(i.toArray())),Object(m.a)(Object(m.a)({},t),{},{simPose:n});case"GO":return t.online&&f.a.put("https://".concat(t.IP,":7878/goto"),t.simPose),r=JSON.stringify(t.simPose),pe!==r&&(t.poseHistory.push(r),t.historySeekPos=t.poseHistory.length,pe=r),Object(m.a)({},t);case"SEQ_ADD":return r=JSON.stringify(t.simPose),t.sequencePoses.length&&t.sequencePoses[t.sequencePoses.length-1]===r?t:(t.sequencePoses.push(r),t.sequenceSeekPos=t.sequencePoses.length,Object(m.a)({},t));case"HISTORY_SEEK":isNaN(+n)&&(n=0),n=E.x.clamp(+n,0,t.poseHistory.length);var s=Math.floor(n),l=Math.ceil(n),d=+(n%1).toFixed(t.historySeekbarPrecision),h=JSON.parse(ue);s=s>=t.poseHistory.length?h:JSON.parse(t.poseHistory[s]),l=l>=t.poseHistory.length?h:JSON.parse(t.poseHistory[l]);var b=function(e,t,a){return p.a.mapValues(e,(function(n,o){return E.x.lerp(e[o],t[o],a)}))}(s,l,d);return t.historyLockHand&&(b.t=h.t),e(Object(m.a)(Object(m.a)({},t),{},{historySeekPos:n}),"SET_SIM_ANGLES",b);case"SET_HISTORY_LOCK_HAND":return e(Object(m.a)(Object(m.a)({},t),{},{historyLockHand:n}),"HISTORY_SEEK",t.historySeekPos);default:return t}}(e,n,o)).isPolling&&(Ee.isPolling=!1),"true"===Ee.isPolling&&(Ee.isPolling=!0),he!==(e.showHistoryTimeline||e.showSequenceControl)&&(console.log("Bottom drawer changed"),window.setTimeout(ce,0),he=e.showHistoryTimeline||e.showSequenceControl),"SET_SIM_ANGLES"===n&&(Ee.historySeekPos=e.poseHistory.length,Ee.sequenceSeekPos=e.sequencePoses.length),Ee};var ve,ge,xe=JSON.stringify(p.a.mapValues(w.a,(function(e){return e.angles.home}))),Ne=JSON.parse(xe),Se=JSON.parse(xe),je=JSON.stringify({isPolling:!0,IP:"",simPose:JSON.parse(xe),online:!1,camFeedState:"searching",camFeedMaximize:!1,isPoseToImgReady:!1,showHistoryTimeline:!0,showSequenceControl:!1,showLibrary:!1,poseHistory:[],historySeekPos:0,historyLockHand:!0,historySeekbarPrecision:2,sequencePoses:[],sequenceSeekPos:0}),_e=Object(n.createContext)(JSON.parse(je)),we=["IP","isPolling"],ye=!1,Oe=Object(s.e)((function(e){var t,a=e.children,r=e.location,c=e.history,i=Object(n.useReducer)(be,JSON.parse(je)),s=Object(l.a)(i,2);return t=s[0],fe=s[1],Object(n.useEffect)((function(){console.log("componentDidMount");var e=p.a.pick(Object.fromEntries(new URLSearchParams(r.search)),we);fe(["SET_STATE",e]),window.setInterval((function(){Ee.isPolling&&f.a.get("https://".concat(Ee.IP,":7878/live")).then((function(e){Ne=Object(m.a)(Object(m.a)({},JSON.parse(xe)),e.data.position),Se=Object(m.a)(Object(m.a)({},JSON.parse(xe)),e.data.target),fe(["SET_STATE",{online:!0}])})).catch((function(e){return fe(["SET_STATE",{online:!1}])}))}),1e3)}),[]),Object(n.useEffect)((function(){console.log("stateToUrl"),ye?c.replace(r.pathname+"?"+new URLSearchParams(p.a.pick(t,we)).toString()):ye=!0}),[].concat(Object(u.a)(we.map((function(e){return t[e]}))),[r.pathname])),Object(n.useEffect)((function(){fe(["SET_STATE",{camFeedState:"searching"}])}),[t.IP]),o.a.createElement(_e.Provider,{value:{state:t,dispatch:fe}},a)})),ke=Object(s.e)((function(e){var t=e.history,a=Object(n.useContext)(_e),r=a.state,c=a.dispatch,i=Object(n.useState)(!1),s=Object(l.a)(i,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){return u(!0)}),[]),o.a.createElement("form",Object.assign({id:"Login",className:m?"active":void 0},{onSubmit:function(e){e.preventDefault(),u(!1),window.setTimeout((function(){return t.push("/")}),500)}}),o.a.createElement("section",null,m?o.a.createElement("style",null,"#cam-feed, #cam-feed:hover:not(.active){ z-index: 1; transform: scale(1,1); right: calc(50% - 320px); bottom: calc(50% - 213px); border-radius: 6px; transition: opacity .5s; }"):void 0,o.a.createElement("div",{className:"cam-feed-container"}),o.a.createElement("div",{className:"row spc-12 f-center"},o.a.createElement("label",{htmlFor:"login-ip"},"Robot Address / IP"),o.a.createElement("div",{className:"button outline text-muted",style:{borderRadius:"4px 0 0 4px",cursor:"initial"}},"https://"),o.a.createElement("input",{id:"login-ip",className:"col col-extrude-l",type:"text",name:"Robot IP",value:r.IP,onChange:function(e){var t=e.target;return c(["SET_STATE",{IP:t.value}])}}),o.a.createElement("button",{className:"outline"},"Go"))))})),Te=a(2);a(93),a(94);function Ce(e){var t,a=Object(n.useState)({expanded:!0,maxHeight:void 0}),r=Object(l.a)(a,2),c=r[0],i=r[1];return o.a.createElement(n.Fragment,null,o.a.createElement("div",Object.assign({id:e.id,className:"accordion"+(null!==(t=e.className)&&void 0!==t?t:"")+(c.expanded?" expanded":"")},{onClick:function(e){var t=e.currentTarget,a=t.nextSibling.children[0].offsetHeight;t.nextSibling.style.maxHeight=a+"px",setTimeout((function(){return i({expanded:!c.expanded,maxHeight:a})}),0)}}),e.head),o.a.createElement("div",{style:{maxHeight:c.maxHeight}},o.a.createElement("div",null,e.children)))}function Pe(){var e=Object(n.useContext)(_e);return ve=e.state,ge=e.dispatch,o.a.createElement("div",{id:"RightSidebar",className:"row f-vert f-nowrap scroll-y"},o.a.createElement("div",{className:"accordion-container"},o.a.createElement(Ce,{head:"Arm Angles",maxHeight:"176 px"},["x","y","z"].map((function(e){return o.a.createElement(Ae,Object.assign({i:e},{key:e}))})))),o.a.createElement("div",{className:"accordion-container"},o.a.createElement(Ce,{head:"Wrist Angles",maxHeight:"176 px"},["u","v","w"].map((function(e){return o.a.createElement(Ae,Object.assign({i:e},{key:e}))})))),o.a.createElement("div",{className:"accordion-container"},o.a.createElement(Ce,{head:"Hand State",maxHeight:"64 px"},["t"].map((function(e){return o.a.createElement(Ae,Object.assign({i:e},{key:e}))})))),o.a.createElement("div",{className:"col-extrude row spc-12 f-vert"},o.a.createElement("div",{className:"button-icon",onClick:function(){return ge(["SET_SIM_ANGLES",JSON.parse(xe)])}},o.a.createElement("div",{className:"icon icon-home text-muted"}),o.a.createElement("div",{className:"col"},"Load Home Pose")),o.a.createElement("div",{className:"button-icon",onClick:function(){return ge(["SET_SIM_ANGLES",Ne])}},o.a.createElement("div",{className:"icon icon-joystick text-muted"}),o.a.createElement("div",{className:"col"},"Load Real World Pose")),o.a.createElement("div",{className:"button-icon",onClick:function(){return ge(["SET_SIM_ANGLES",Se])}},o.a.createElement("div",{className:"icon icon-node_link_direction text-muted"}),o.a.createElement("div",{className:"col"},"Load Target Pose"))),o.a.createElement("div",{className:"f-grow-1"}),o.a.createElement("div",{className:"col-extrude row spc-12 f-vert"},ve.isPolling?o.a.createElement("div",{className:"status h7 ml-auto mb-0 mr-12 "+(ve.online?"online":"offline")}):void 0,o.a.createElement("div",{className:"controls"},o.a.createElement("div",{style:{height:"23px"}}),o.a.createElement("div",{className:"go",onClick:function(){return ge(["GO"])}},"Go"),o.a.createElement("div",{className:"button-icon",onClick:function(){return f.a.put("https://".concat(ve.IP,":7878/stop"))}},o.a.createElement("div",{className:"icon icon-stop",style:{fontSize:"11px"}}),o.a.createElement("div",{className:"f-grow-1"},"Stop"))),ve.showSequenceControl?o.a.createElement("div",{className:"button-icon",onClick:function(){return f.a.put("https://".concat(ve.IP,":7878/batch"),ve.sequencePoses)}},o.a.createElement("div",{className:"fa fa-forward text-muted",style:{transform:"scaleY(.75)"}}),o.a.createElement("div",{className:"col"},"Play Sequence")):void 0))}function Ae(e){var t=e.i,a=w.a[t],r=Object(n.useState)(!1),c=Object(l.a)(r,2),i=c[0],s=c[1];return o.a.createElement("div",{className:"p-8 pt-2"},o.a.createElement("div",{className:"row mt-0"},o.a.createElement("label",{className:"uppercase"},t),o.a.createElement("div",{className:"col",style:{height:"30px"}},o.a.createElement("input",Object.assign({type:"range",min:a.angles.min,max:a.angles.max,value:+ve.simPose[t].toFixed(1)},{onChange:d},{step:".1"})))),o.a.createElement("div",{className:"trim sliding-row"},o.a.createElement("div",{className:"row f-nowrap mt-0"+(i?" active":"")},o.a.createElement("div",{className:"col-6 row mr-8"},o.a.createElement("div",{className:"button outline super-center icon-reply p-0",title:"Reset",onClick:function(){return s(!0)}}),o.a.createElement("div",{className:"pl-10 col row f-justify-space-between"},o.a.createElement("div",{className:"col text-muted h7"},+a.angles.min.toFixed(1)),o.a.createElement("input",Object.assign({className:"text-center py-2",type:"number",value:+ve.simPose[t].toFixed(1)},{onChange:d})),o.a.createElement("div",{className:"col text-muted h7 text-right"},+a.angles.max.toFixed(1)),o.a.createElement("div",{className:"row-breaker"}))),o.a.createElement("div",{className:"col-6 row mr-8 f-center"},o.a.createElement("div",{className:"button outline super-center icon-cross_mark",onClick:function(){return s(!1)}}),o.a.createElement("div",{className:"mr-auto ml-8"},"Reset to:"),o.a.createElement("button",{title:"Home angle",className:"outline ml-8 h8 icon-home",style:{height:"22px"},onClick:function(){return u(JSON.parse(xe)[t])},tabIndex:"-1"}),o.a.createElement("button",{title:"Actual angle",className:"outline ml-8 h8 icon-joystick",style:{height:"22px"},onClick:function(){return u(Ne[t])},tabIndex:"-1"}),o.a.createElement("button",{title:"Target angle",className:"outline ml-8 h8 icon-node_link_direction",style:{height:"22px"},onClick:function(){return u(Se[t])},tabIndex:"-1"})))));function u(e){s(!1),d({target:{valueAsNumber:e}})}function d(e){var a=e.target.valueAsNumber;ge(["SET_SIM_ANGLES",Object(m.a)(Object(m.a)({},ve.simPose),{},Object(Te.a)({},t,a))])}}a(95),a(96);function Fe(){var e=Object(n.useContext)(_e),t=e.state,a=e.dispatch;return o.a.createElement("div",{id:"SequenceControls"},o.a.createElement("div",{className:"top-row row"},o.a.createElement("div",{className:"f-center px-8 py-4 spb-x-8"},o.a.createElement("div",{className:"icon icon-layout_directed"}),o.a.createElement("div",{className:"b-700"},"Sequence Controls")),o.a.createElement("div",{className:"row f-center spc-x-8 spc-4"},o.a.createElement("button",{className:"outline super-center h7 icon icon-fast_backward"}),o.a.createElement("button",{className:"outline super-center h7 icon icon-step_backward"}),o.a.createElement("span",{className:"h7"},"Slider position"),o.a.createElement("input",{className:"text-center h7 b-500",type:"number"}),o.a.createElement("button",{className:"outline super-center h7 icon icon-step_forward"}),o.a.createElement("button",{className:"outline super-center h7 icon icon-fast_forward"})),o.a.createElement("div",{className:"col"}),o.a.createElement("div",{className:"px-8 py-4"},o.a.createElement("button",{className:"outline super-center",style:{fontSize:"14px"}},o.a.createElement("i",{className:"fa fa-times mr-6"}),"Clear")),o.a.createElement("div",{className:"row spc-x-8 spc-4"},o.a.createElement("button",{className:"outline super-center",style:{fontSize:"14px"}},o.a.createElement("i",{className:"fa fa-bookmark mr-6"}),"Save Sequence")),o.a.createElement("div",{className:"fa fa-minus f-center px-16 ml-auto",onClick:function(){return a(["SET_STATE",{showSequenceControl:!1}])}})),o.a.createElement("div",{className:"scroll-x"},o.a.createElement("div",{className:"seekbar f-center",style:{height:"30px"}},o.a.createElement("div",{className:"h7 text-center"},"Seekbar")),o.a.createElement("div",{className:"row spc-8 spc-x-16 px-0 f-nowrap"},t.sequencePoses.map((function(e,t){return o.a.createElement(R,{key:t,pose:e})})),o.a.createElement("div",{className:"fa fa-plus",onClick:function(){return a(["SEQ_ADD"])}}))))}function He(){var e=Object(n.useContext)(_e),t=e.state,a=e.dispatch,r=t.showHistoryTimeline,c=t.showSequenceControl,i=t.showLibrary;return o.a.createElement("div",{id:"BottomDrawer"},!1===(r||c)?o.a.createElement("style",null,":root{ --bottomDrawerHeight: 46px }"):void 0,o.a.createElement("div",{id:"taskbar",className:"row spc-8 f-end"},o.a.createElement("div",{className:"button-icon"+(r?" active":""),onClick:function(){return a(["SET_STATE",{showHistoryTimeline:!r}])}},o.a.createElement("div",{className:"fa fa-history"}),o.a.createElement("div",{className:"col"},"History Timeline"),o.a.createElement("div",{className:"fa fa-history"})),o.a.createElement("div",{className:"button-icon"+(c?" active":""),onClick:function(){return a(["SET_STATE",{showSequenceControl:!c}])}},o.a.createElement("div",{className:"icon icon-layout_directed"}),o.a.createElement("div",{className:"col"},"Sequence Controls"),o.a.createElement("div",{className:"icon icon-layout_directed"})),o.a.createElement("div",{className:"button-icon"+(i?" active":""),onClick:function(){return a(["SET_STATE",{showLibrary:!i}])}},o.a.createElement("div",{className:"fa fa-bookmark"}),o.a.createElement("div",{className:"col"},"Library"),o.a.createElement("div",{className:"fa fa-bookmark"})),o.a.createElement("div",{className:"ml-auto h7"},"App Version: 0.1.6")),r?o.a.createElement(de,null):void 0,c?o.a.createElement(Fe,null):void 0)}a(97);function Re(e){e.className,e.children;var t=Object(n.useContext)(_e),a=t.state,r=t.dispatch;return o.a.createElement(n.Fragment,null,o.a.createElement("style",null,"#cam-feed{","found"!==a.camFeedState?"opacity: 0":void 0,"}"),o.a.createElement("img",{id:"cam-feed",className:a.camFeedMaximize?"active":"",src:"http://".concat(a.IP,":8081/?action=stream"),alt:"Cam feed",onClick:function(){return r(["SET_STATE",{camFeedMaximize:!a.camFeedMaximize}])},onLoad:function(){return r(["SET_STATE",{camFeedState:"found"}])},onError:function(){return r(["SET_STATE",{camFeedState:"not found"}])}}))}a(98);function Ie(){return o.a.createElement("header",{id:"Header",className:"row spc-8 spc-x-16 f-center"},o.a.createElement("img",{src:a(99),alt:""}),o.a.createElement("div",{className:"b-600 uppercase"},o.a.createElement("div",{className:"h5"},"Marginally Clever"),o.a.createElement("div",{className:"h8 text-muted"},"Robot Overlord Studio")),o.a.createElement("div",{className:"col"}),o.a.createElement(i.b,{to:"/login",className:"button-icon"},o.a.createElement("div",{className:"fa fa-power-off text-muted"}),o.a.createElement("div",null,"Login")),o.a.createElement(i.b,{to:"/login",className:"button-icon"},o.a.createElement("div",{className:"fa fa-cogs text-muted"}),o.a.createElement("div",null,"Settings")),o.a.createElement("div",{className:"button-icon",onClick:function(){return window.location.reload()}},o.a.createElement("div",{className:"fa fa-refresh text-muted"}),o.a.createElement("div",null,"Reload")))}var Me=Object(s.e)((function(){return o.a.createElement("div",{id:"App"},o.a.createElement("div",{className:"pos-rel"},o.a.createElement(re,null),o.a.createElement(Ie,null)),o.a.createElement(Pe,null),o.a.createElement(Re,null),o.a.createElement(He,null),o.a.createElement(s.a,{path:"/login",component:ke}))})),Le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function De(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(i.a,null,o.a.createElement(Oe,null,o.a.createElement(Me,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Le?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):De(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):De(t,e)}))}}()}],[[46,1,2]]]);
//# sourceMappingURL=main.0c8c2762.chunk.js.map